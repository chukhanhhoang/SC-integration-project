clear all; clc;

g = 9.81; r = 0.17;
m_m = 0.118;
m_p = 0.9;
I_p = m_p*0.04^2/12;
K=11;
C_v=16.5;
r_b = 0.019;
m_b = 0.024;
I_b = m_b*r_b^2;

I0 = (m_p+3*m_m)*g/(3*K);

motorPlateInit = [0;0;0;0;0;0.32];
ballPosInit = [0;0;0;0];

A=[ 0 1 0 0 0 0;
    0 -3*C_v*r/(3*m_m*r^2+2*I_p) 0 0 0 0;
    0 0 0 1 0 0;
    0 0 0 -3*C_v*r/(3*m_m*r^2+2*I_p) 0 0;
    0 0 0 0 0 -3*C_v/(3*m_m+m_p);
    0 0 0 0 0 1];
B=[ 0 0 0;
    0 sqrt(3)*r*K/(3*m_m*r^2+2*I_p) -sqrt(3)*r*K/(3*m_m*r^2+2*I_p);
    0 0 0;
    -2*r*K/(3*m_m*r^2+2*I_p) r*K/(3*m_m*r^2+2*I_p) r*K/(3*m_m*r^2+2*I_p);
    K/(3*m_m+m_p) K/(3*m_m+m_p) K/(3*m_m+m_p);
    0 0 0];
C = [1 0 1 0 0 1];

Ab = [0 1 0 0; 0 0 0 0; 0 0 0 1; 0 0 0 0];
Bb = [0 0; -g/(1+I_b/(m_b*r_b^2) 0; 0 0; 0 g/(1+I_b/(m_b*r_b^2));
Cb = [1 0 1 0];
    